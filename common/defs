#!/bin/sh
export DEFINE_PWD="$(pwd)"
export DEFINE_TEMPLATE_ROOTPATH="$DEFINE_PWD/.template"
export DEFINE_TEMPLATE_INSTANCE_CONFIG="$DEFINE_TEMPLATE_ROOTPATH/config"
# if locked...
export DEFINE_TEMPLATE_LOCKNAME="$DEFINE_TEMPLATE_ROOTPATH/database"
# if unlocked...
export DEFINE_TEMPLATE_GITPATH="$DEFINE_TEMPLATE_ROOTPATH/repo"
export DEFINE_TEMPLATE_CONTENT="$DEFINE_TEMPLATE_GITPATH/content"
export DEFINE_TEMPLATE_README="$DEFINE_TEMPLATE_GITPATH/README.md"
export DEFINE_TEMPLATE_CONFIG="$DEFINE_TEMPLATE_GITPATH/config"
# temporary files
export DEFINE_TEMPLATE_TMP="$DEFINE_TEMPLATE_GITPATH/tmp"
export DEFINE_TEMPLATE_PARSEFILE_SRC="$DEFINE_TEMPLATE_TMP/files.source"
export DEFINE_TEMPLATE_PARSEFILE_DST="$DEFINE_TEMPLATE_TMP/files.destination"

_lock() {
	cd "$DEFINE_TEMPLATE_GITPATH"
	mv ".git" "$DEFINE_TEMPLATE_LOCKNAME"
	cd "$DEFINE_TEMPLATE_ROOTPATH"
	rm -rf "$DEFINE_TEMPLATE_GITPATH"
}

_unlock() {
	cd "$DEFINE_TEMPLATE_ROOTPATH"
	mkdir "$DEFINE_TEMPLATE_GITPATH"
	cd "$DEFINE_TEMPLATE_GITPATH"
	mkdir "$DEFINE_TEMPLATE_TMP"
	mv -f "$DEFINE_TEMPLATE_LOCKNAME" ".git"
}

GRAY=$'\e[1;30m'
RED=$'\e[1;31m'
GREEN=$'\e[1;32m'
YELLOW=$'\e[1;33m'
BLUE=$'\e[1;34m'
PINK=$'\e[1;35m'
CYAN=$'\e[1;36m'
WHITE=$'\e[1;37m'
ERROR=$'\e[1;37m\e[41m'
SUCCESS=$'\e[1;37m\e[42m'
CLEAR=$'\e[0m'